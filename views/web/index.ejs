<% layout('layouts/web.ejs') -%>



hola

<% if (hasRole('File Managment')) { %>
  <a href="/files">Administrador de archivos</a>
<% } %>

<% block('styles').append(`
    
`) %>

<% block('scripts').append(`
  <script src="/dist/web.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const sidebar = document.getElementById("sidebar");
        const toggleBtn = document.getElementById("toggleSidebar");

        // 1️⃣ Aplicar estado guardado al cargar
        const sidebarState = localStorage.getItem("sidebarState");
        if (sidebarState === "collapsed") {
            sidebar.classList.add("collapsed");
        }

        // 2️⃣ Evento toggle + guardar estado
        toggleBtn.addEventListener("click", function () {
            sidebar.classList.toggle("collapsed");

            if (sidebar.classList.contains("collapsed")) {
                localStorage.setItem("sidebarState", "collapsed");
            } else {
                localStorage.setItem("sidebarState", "expanded");
            }
        });
    });
  </script>
`) %>